<!DOCTYPE html>
<!-- saved from url=(0047)https://xl434.github.io/ece4760_web/conclusion/ -->
<html lang="en-US" class="js">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">




  <title>Conclusion</title>
  <meta name="description" content="">
  <style type="text/css">
    svg:not(:root).svg-inline--fa {
      overflow: visible
    }

    .svg-inline--fa {
      display: inline-block;
      font-size: inherit;
      height: 1em;
      overflow: visible;
      vertical-align: -.125em
    }

    .svg-inline--fa.fa-lg {
      vertical-align: -.225em
    }

    .svg-inline--fa.fa-w-1 {
      width: .0625em
    }

    .svg-inline--fa.fa-w-2 {
      width: .125em
    }

    .svg-inline--fa.fa-w-3 {
      width: .1875em
    }

    .svg-inline--fa.fa-w-4 {
      width: .25em
    }

    .svg-inline--fa.fa-w-5 {
      width: .3125em
    }

    .svg-inline--fa.fa-w-6 {
      width: .375em
    }

    .svg-inline--fa.fa-w-7 {
      width: .4375em
    }

    .svg-inline--fa.fa-w-8 {
      width: .5em
    }

    .svg-inline--fa.fa-w-9 {
      width: .5625em
    }

    .svg-inline--fa.fa-w-10 {
      width: .625em
    }

    .svg-inline--fa.fa-w-11 {
      width: .6875em
    }

    .svg-inline--fa.fa-w-12 {
      width: .75em
    }

    .svg-inline--fa.fa-w-13 {
      width: .8125em
    }

    .svg-inline--fa.fa-w-14 {
      width: .875em
    }

    .svg-inline--fa.fa-w-15 {
      width: .9375em
    }

    .svg-inline--fa.fa-w-16 {
      width: 1em
    }

    .svg-inline--fa.fa-w-17 {
      width: 1.0625em
    }

    .svg-inline--fa.fa-w-18 {
      width: 1.125em
    }

    .svg-inline--fa.fa-w-19 {
      width: 1.1875em
    }

    .svg-inline--fa.fa-w-20 {
      width: 1.25em
    }

    .svg-inline--fa.fa-pull-left {
      margin-right: .3em;
      width: auto
    }

    .svg-inline--fa.fa-pull-right {
      margin-left: .3em;
      width: auto
    }

    .svg-inline--fa.fa-border {
      height: 1.5em
    }

    .svg-inline--fa.fa-li {
      width: 2em
    }

    .svg-inline--fa.fa-fw {
      width: 1.25em
    }

    .fa-layers svg.svg-inline--fa {
      bottom: 0;
      left: 0;
      margin: auto;
      position: absolute;
      right: 0;
      top: 0
    }

    .fa-layers {
      display: inline-block;
      height: 1em;
      position: relative;
      text-align: center;
      vertical-align: -.125em;
      width: 1em
    }

    .fa-layers svg.svg-inline--fa {
      -webkit-transform-origin: center center;
      transform-origin: center center
    }

    .fa-layers-counter,
    .fa-layers-text {
      display: inline-block;
      position: absolute;
      text-align: center
    }

    .fa-layers-text {
      left: 50%;
      top: 50%;
      -webkit-transform: translate(-50%, -50%);
      transform: translate(-50%, -50%);
      -webkit-transform-origin: center center;
      transform-origin: center center
    }

    .fa-layers-counter {
      background-color: #ff253a;
      border-radius: 1em;
      -webkit-box-sizing: border-box;
      box-sizing: border-box;
      color: #fff;
      height: 1.5em;
      line-height: 1;
      max-width: 5em;
      min-width: 1.5em;
      overflow: hidden;
      padding: .25em;
      right: 0;
      text-overflow: ellipsis;
      top: 0;
      -webkit-transform: scale(.25);
      transform: scale(.25);
      -webkit-transform-origin: top right;
      transform-origin: top right
    }

    .fa-layers-bottom-right {
      bottom: 0;
      right: 0;
      top: auto;
      -webkit-transform: scale(.25);
      transform: scale(.25);
      -webkit-transform-origin: bottom right;
      transform-origin: bottom right
    }

    .fa-layers-bottom-left {
      bottom: 0;
      left: 0;
      right: auto;
      top: auto;
      -webkit-transform: scale(.25);
      transform: scale(.25);
      -webkit-transform-origin: bottom left;
      transform-origin: bottom left
    }

    .fa-layers-top-right {
      right: 0;
      top: 0;
      -webkit-transform: scale(.25);
      transform: scale(.25);
      -webkit-transform-origin: top right;
      transform-origin: top right
    }

    .fa-layers-top-left {
      left: 0;
      right: auto;
      top: 0;
      -webkit-transform: scale(.25);
      transform: scale(.25);
      -webkit-transform-origin: top left;
      transform-origin: top left
    }

    .fa-lg {
      font-size: 1.33333em;
      line-height: .75em;
      vertical-align: -.0667em
    }

    .fa-xs {
      font-size: .75em
    }

    .fa-sm {
      font-size: .875em
    }

    .fa-1x {
      font-size: 1em
    }

    .fa-2x {
      font-size: 2em
    }

    .fa-3x {
      font-size: 3em
    }

    .fa-4x {
      font-size: 4em
    }

    .fa-5x {
      font-size: 5em
    }

    .fa-6x {
      font-size: 6em
    }

    .fa-7x {
      font-size: 7em
    }

    .fa-8x {
      font-size: 8em
    }

    .fa-9x {
      font-size: 9em
    }

    .fa-10x {
      font-size: 10em
    }

    .fa-fw {
      text-align: center;
      width: 1.25em
    }

    .fa-ul {
      list-style-type: none;
      margin-left: 2.5em;
      padding-left: 0
    }

    .fa-ul>li {
      position: relative
    }

    .fa-li {
      left: -2em;
      position: absolute;
      text-align: center;
      width: 2em;
      line-height: inherit
    }

    .fa-border {
      border: solid .08em #eee;
      border-radius: .1em;
      padding: .2em .25em .15em
    }

    .fa-pull-left {
      float: left
    }

    .fa-pull-right {
      float: right
    }

    .fa.fa-pull-left,
    .fab.fa-pull-left,
    .fal.fa-pull-left,
    .far.fa-pull-left,
    .fas.fa-pull-left {
      margin-right: .3em
    }

    .fa.fa-pull-right,
    .fab.fa-pull-right,
    .fal.fa-pull-right,
    .far.fa-pull-right,
    .fas.fa-pull-right {
      margin-left: .3em
    }

    .fa-spin {
      -webkit-animation: fa-spin 2s infinite linear;
      animation: fa-spin 2s infinite linear
    }

    .fa-pulse {
      -webkit-animation: fa-spin 1s infinite steps(8);
      animation: fa-spin 1s infinite steps(8)
    }

    @-webkit-keyframes fa-spin {
      0% {
        -webkit-transform: rotate(0);
        transform: rotate(0)
      }

      100% {
        -webkit-transform: rotate(360deg);
        transform: rotate(360deg)
      }
    }

    @keyframes fa-spin {
      0% {
        -webkit-transform: rotate(0);
        transform: rotate(0)
      }

      100% {
        -webkit-transform: rotate(360deg);
        transform: rotate(360deg)
      }
    }

    .fa-rotate-90 {
      -webkit-transform: rotate(90deg);
      transform: rotate(90deg)
    }

    .fa-rotate-180 {
      -webkit-transform: rotate(180deg);
      transform: rotate(180deg)
    }

    .fa-rotate-270 {
      -webkit-transform: rotate(270deg);
      transform: rotate(270deg)
    }

    .fa-flip-horizontal {
      -webkit-transform: scale(-1, 1);
      transform: scale(-1, 1)
    }

    .fa-flip-vertical {
      -webkit-transform: scale(1, -1);
      transform: scale(1, -1)
    }

    .fa-flip-horizontal.fa-flip-vertical {
      -webkit-transform: scale(-1, -1);
      transform: scale(-1, -1)
    }

    :root .fa-flip-horizontal,
    :root .fa-flip-vertical,
    :root .fa-rotate-180,
    :root .fa-rotate-270,
    :root .fa-rotate-90 {
      -webkit-filter: none;
      filter: none
    }

    .fa-stack {
      display: inline-block;
      height: 2em;
      position: relative;
      width: 2em
    }

    .fa-stack-1x,
    .fa-stack-2x {
      bottom: 0;
      left: 0;
      margin: auto;
      position: absolute;
      right: 0;
      top: 0
    }

    .svg-inline--fa.fa-stack-1x {
      height: 1em;
      width: 1em
    }

    .svg-inline--fa.fa-stack-2x {
      height: 2em;
      width: 2em
    }

    .fa-inverse {
      color: #fff
    }

    .sr-only {
      border: 0;
      clip: rect(0, 0, 0, 0);
      height: 1px;
      margin: -1px;
      overflow: hidden;
      padding: 0;
      position: absolute;
      width: 1px
    }

    .sr-only-focusable:active,
    .sr-only-focusable:focus {
      clip: auto;
      height: auto;
      margin: 0;
      overflow: visible;
      position: static;
      width: auto
    }
  </style>
  <link rel="canonical" href="https://xl434.github.io/ece4760_web/conclusion/">


  <script>
    /* Cut the mustard */
    if ('querySelector' in document && 'addEventListener' in window) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="./Conclusion_files/main.css">
  <link rel="stylesheet" href="./Conclusion_files/default.css">
  <!-- start custom head snippets -->

  <!-- insert favicons. use http://realfavicongenerator.net/ -->

  <!-- end custom head snippets -->

</head>


<body class="layout--page  conclusion" data-new-gr-c-s-check-loaded="14.1146.0" data-gr-ext-installed="">
  <nav class="skip-links">
    <h2 class="screen-reader-text">Skip links</h2>
    <ul>
      <li><a href="https://xl434.github.io/ece4760_web/conclusion/#primary-nav" class="screen-reader-shortcut">Skip to
          primary navigation</a></li>
      <li><a href="https://xl434.github.io/ece4760_web/conclusion/#main" class="screen-reader-shortcut">Skip to
          content</a></li>
      <li><a href="https://xl434.github.io/ece4760_web/conclusion/#footer" class="screen-reader-shortcut">Skip to
          footer</a></li>
    </ul>
  </nav>


  <div class="navigation-wrapper">
    <a href="https://xl434.github.io/ece4760_web/conclusion/#menu-toggle" id="menu-toggle">Menu</a>
    <nav id="primary-nav" class="site-nav animated drop">
      <ul>
        <li><a href="./Pi Looper.html">Intro</a></li>
        <li><a href="./High Level Design.html">High Level</a></li>
        <li><a href="./Hardware.html">Hardware</a></li>
        <li><a href="./Software Design.html">Software</a></li>
        <li><a href="./Conclusion.html">Conclusion</a></li>
      </ul>
    </nav>
  </div><!-- /.navigation-wrapper -->


  <header class="masthead">
    <div class="wrap">

      <a href="https://xl434.github.io/ece4760_web/" class="site-logo" rel="home" title="ECE 4760 Final Project">
        <img src="./Conclusion_files/logo.png" class="site-logo-img animated fadeInDown" alt="ECE 4760 Final Project">
      </a>




      <div class="site-title animated fadeIn"><a href="https://xl434.github.io/ece4760_web/">ECE 4760 Final Project</a>
      </div>

      <p class="site-description animated fadeIn" itemprop="description"></p>

    </div>
  </header><!-- /.masthead -->


  <main id="main" class="main-content" aria-label="Content">
    <article>


      <div class="page-wrapper">
        <header class="page-header">


          <h1 id="page-title" class="page-title">Conclusion</h1>

        </header>
        <div class="page-content">
          <h2 id="results-of-the-design">Results of the design</h2>
          <figure style="width: 500px" class="align-center">
            <img src="./Conclusion_files/image11.jpg" alt="">
          </figure>
          <figure style="width: 500px" class="align-center">
            <img src="./Conclusion_files/image22.jpg" alt="">
          </figure>
          <figure style="width: 500px" class="align-center">
            <img src="./Conclusion_files/image24.png" alt="">
          </figure>

          <h3 id="any-and-all-test-data-scope-traces-waveforms-etc">Any and all test data, scope traces, waveforms, etc
          </h3>

          <ul>
            <li>Signal pre and post-op-amp</li>
            <li>Signal post-op-amp and from DAC</li>
          </ul>
          <figure style="width: 500px" class="align-center">
            <img src="./Conclusion_files/image20.jpg" alt="">
          </figure>

          <p>We scoped signal from the guitar (ch2) and fram dac (ch1). The guitar signal has a peak-to-peak range of
            around 200 mV, whereas the signal from dac is amplified to a peak-to-peak of 600 mV. The guitar signal is
            amplified successfully within the voltage range of 0 - 3.3V. The DAC output seems to exhibit more noise,
            which could be due to the digital sampling and processing or noise introduced by DAC. The waveform shapes
            suggest that the fundamental frequencies are being preserved.</p>

          <h3 id="speed-of-execution-hesitation-flicker-interactiveness-concurrency">Speed of execution (hesitation,
            flicker, interactiveness, concurrency)</h3>

          <ul>
            <li><strong>Hesitation &amp; Flicker</strong>: our looper is able to achieve no delay when looping tracks.
              Multiple tracks are ableto be aligned correctly with no perceptible time discrepancies. This allows
              musicians to maintain musical integrity and synchronicity of the composition.</li>
            <li><strong>Concurrency</strong>: our circuit design allows concurrent connection of the amplified guitar
              signal output and DAC output to the left and right stereo channels separately. This enables the
              simultaneous output of current guitar sound and looper playback sound. Musicians are able to receive
              immediate feedback as they record, allowing them to access how the new layer integrates with existing
              loops. This concurrency feature is crucial for making real-time adjustments to achieve the desired music
              composition.</li>
            <li><strong>Interactiveness</strong>: the design choice of three buttons - record, play, and clean -
              provides straightforward and essential control for the loop station, making sure it is easy to use and
              minimizing confusion. Traditional loop stations usually have a two-button design that integrates clean and
              record functions using time delay (short press for record and long press for clean). Compared to
              two-button design, three distinct buttons provide clear and intuitive controls for different functions.
              It’s easier to interact with since musicians can easily identify and understand the purpose of each button
              without ambiguity. However, one future improvement of our system is using footswitches or foot pedals
              rather than regular push buttons. Footswitches allow musicians to operate the loop station hands-free and
              provide greater freedom for playing instruments or manipulating other controls. It also allows musicians
              to trigger functions without any delay.</li>
          </ul>

          <h3 id="accuracy-numeric-music-frequencies-video-signal-timing-etc">accuracy (numeric, music frequencies,
            video signal timing, etc)</h3>
          <ul>
            <li>Numeric: To ensure not too much noise is included in our computation, we right shift ADC and DAC to
              eliminate the ineffective lower bits. We also try to preserve all the large numbers without overflowing
              and only scale down them if necessary (when it has reached the hardware’s limitation).</li>
            <li>Music Frequencies: For music frequency, we sampled at 8k Hz which is slightly lower than what we should
              sampled according to the Nyquist–Shannon sampling theorem. Nyquist–Shannon theorem determined the sampling
              frequency by multiplying the max frequency we want to sample by 2 to ensure the sounds are consistent and
              clear. We didn’t do so because Bruce suggested that we go with 8k Hz because we are working on a
              breadboard and can have pin capacitance.</li>
            <li>
              <h3 id="how-you-enforced-safety-in-the-design">how you enforced safety in the design.</h3>
            </li>
            <li>Make sure not to feed voltage &gt;3.3V into GPIO
              To enforce this, we always scope anything going into the GPIOs, and also we protect them with current
              limiting resistors. For potential reversed voltage, we also used diode to cap it at 0V.</li>
          </ul>

          <h3 id="usability-by-you-and-other-people">Usability by you and other people</h3>
          <ul>
            <li>From the functionality point of view, Pi-Looper definitely performs its intended tasks effectively.
              However, there are still some aspects of systems need to be improve for a better usability. We build all
              our circuit on the breadboard, but to have a more compact design, our circuit could be improved by using
              PCB. A PCB reduces the chance of loose connections and wiring errors that can occur with hand-wired
              circuits. Additionally, it would be better if we have a custom 3D-printed case to protect circuit
              components from physical or environmental damage. As for the serial communication we used to save and
              retrieve tracks in FRAM, a graphic user interface is necessary for people who are not familiar with
              terminal commands.</li>
          </ul>

          <h2 id="conclusions">Conclusions</h2>

          <h3
            id="analyse-your-design-in-terms-of-how-the-results-met-your-expectations-what-might-you-do-differently-next-time">
            Analyse your design in terms of how the results met your expectations. What might you do differently next
            time?</h3>
          <p>Our design in general met our expectations. The loop station we designed allows musicians to record, play,
            layer, and save instrumental tracks. It supports a wide range of instruments such as guitar, bass, or
            electric drums. It can also layer multiple tracks, and there is no specific limit on the number of tracks
            that can be layered. Musicians can play back the recorded tracks in real-time and even when the system is
            rebooted after powering off. However, an issue with the level of noise in the recordings still exists. We
            tried a couple of methods that indeed improved the noise problem but we didn’t have enough time to address
            this issue comprehensively. There are some considerations and adjustments we might do differently next time:
            1. Conduct thorough analysis to identify specific sources and frequencies of noises. 2. Explore advanced
            amplifier circuit designs or filtering techniques. 3. Carefully select and test each circuit component
            before we put everything together. 4. Document each modification made and the reason behind it to address
            certain issues as well as its impact.</p>

          <h3 id="how-did-your-design-conform-to-the-applicable-standards">How did your design conform to the applicable
            standards?</h3>

          <h4 id="intellectual-property-considerations">Intellectual property considerations.</h4>
          <ol>
            <li>Did you reuse code or someone else’s design? Did you use any of Altera’s IP? <br>We used Bruce’s code on
              FRAM and reused some of 4760’s lab code.</li>
            <li>Did you use code in the public domain? <br> If 4760 counts, then yes</li>
            <li>Are you reverse-engineering a design? How did you deal with patent/trademark issues? <br>We were
              inspired by the commercial looper station’s functionality and we built it step by step without referencing
              their design which isn’t published as well.</li>
            <li>Did you have to sign non-disclosure to get a sample part? <br>No</li>
            <li>Are there patent opportunites for your project? <br>No, we used widely used concepts and designs</li>
          </ol>

          <h2 id="appendix-a-permissions">Appendix A: Permissions</h2>
          <p>The group approves this report for inclusion on the course website.
            The group approves the video for inclusion on the course YouTube channel.</p>

          <h2 id="additional-appendices">Appendix B: References</h2>
          Non-inverting amplifier circuit <a
            href="https://spiceman.net/non-inverting-amplifier-circuit/">https://spiceman.net/non-inverting-amplifier-circuit/</a>
          <br>
          Low pass filter <a
            href="https://en.wikipedia.org/wiki/Low-pass_filter">https://en.wikipedia.org/wiki/Low-pass_filter</a><br>
          Interfacing Pico with external memory <a
            href="https://people.ece.cornell.edu/land/courses/ece4760/RP2040/C_SDK_memory/index_memory.html">https://people.ece.cornell.edu/land/courses/ece4760/RP2040/C_SDK_memory/index_memory.html</a>

        </div>
      </div>
    </article>
  </main>


  <footer id="footer" class="site-footer">
    <!-- start custom footer snippets -->

    <!-- end custom footer snippets -->
    <div class="copyright">

      <p>© 2023 ECE 4760 Final Project. Powered by <a href="https://jekyllrb.com/" rel="nofollow">Jekyll</a> &amp; <a
          href="https://github.com/mmistakes/so-simple-theme" rel="nofollow">So Simple</a>.</p>

    </div>
  </footer>

  <script src="./Conclusion_files/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
  <script src="./Conclusion_files/main.min.js"></script>
  <script src="./Conclusion_files/all.js"></script>





</body><grammarly-desktop-integration data-grammarly-shadow-root="true"><template shadowrootmode="open">
    <style>
      div.grammarly-desktop-integration {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      div.grammarly-desktop-integration:before {
        content: attr(data-content);
      }
    </style>
    <div aria-label="grammarly-integration" role="group" tabindex="-1" class="grammarly-desktop-integration"
      data-content="{&quot;mode&quot;:&quot;full&quot;,&quot;isActive&quot;:true,&quot;isUserDisabled&quot;:false}">
    </div>
  </template></grammarly-desktop-integration>

</html>