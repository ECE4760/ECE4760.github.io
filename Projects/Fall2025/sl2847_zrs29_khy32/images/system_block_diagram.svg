<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 770 390">
  <defs>
    <!-- Arrowhead marker -->
    <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#555"/>
    </marker>
    <!-- Software module gradient -->
    <linearGradient id="softwareGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e8f4f8;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d0e8f0;stop-opacity:1" />
    </linearGradient>
    <!-- Hardware module gradient -->
    <linearGradient id="hardwareGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#fff5e6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ffe8cc;stop-opacity:1" />
    </linearGradient>
    <!-- Pico box gradient -->
    <linearGradient id="picoGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f8fbfc;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e8f0f4;stop-opacity:1" />
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="770" height="390" fill="#ffffff"/>

  <!-- RP2040 Pico Box (Software Container) -->
  <rect x="10" y="10" width="500" height="370" rx="8" fill="url(#picoGrad)" stroke="#003366" stroke-width="2.5"/>
  <text x="260" y="38" font-family="system-ui, Arial, sans-serif" font-size="18" font-weight="bold" fill="#003366" text-anchor="middle">RP2040 Pico</text>
  
  <!-- Software Modules Inside Pico (centered) -->
  
  <!-- Board Scanner (above center) -->
  <rect x="190" y="60" width="140" height="55" rx="5" fill="url(#softwareGrad)" stroke="#0055aa" stroke-width="2"/>
  <text x="260" y="92" font-family="system-ui, Arial, sans-serif" font-size="12" font-weight="bold" fill="#003366" text-anchor="middle">Board Scanner</text>
  
  <!-- Computer (left of center) -->
  <rect x="30" y="165" width="120" height="60" rx="5" fill="url(#softwareGrad)" stroke="#0055aa" stroke-width="2"/>
  <text x="90" y="200" font-family="system-ui, Arial, sans-serif" font-size="12" font-weight="bold" fill="#003366" text-anchor="middle">Computer</text>
  
  <!-- Chess Engine (center - larger) -->
  <rect x="190" y="150" width="140" height="90" rx="5" fill="url(#softwareGrad)" stroke="#0055aa" stroke-width="2"/>
  <text x="260" y="192" font-family="system-ui, Arial, sans-serif" font-size="13" font-weight="bold" fill="#003366" text-anchor="middle">Chess Engine</text>
  <text x="260" y="210" font-family="system-ui, Arial, sans-serif" font-size="10" fill="#004488" text-anchor="middle">(Game State)</text>
  
  <!-- User Interface (right of center) -->
  <rect x="370" y="165" width="120" height="60" rx="5" fill="url(#softwareGrad)" stroke="#0055aa" stroke-width="2"/>
  <text x="430" y="200" font-family="system-ui, Arial, sans-serif" font-size="12" font-weight="bold" fill="#003366" text-anchor="middle">User Interface</text>
  
  <!-- VGA Display (below center) -->
  <rect x="190" y="290" width="140" height="55" rx="5" fill="url(#softwareGrad)" stroke="#0055aa" stroke-width="2"/>
  <text x="260" y="322" font-family="system-ui, Arial, sans-serif" font-size="12" font-weight="bold" fill="#003366" text-anchor="middle">VGA Display</text>

  <!-- SOFTWARE INTERNAL CONNECTIONS - Two arrows between each module and Chess Engine -->
  
  <!-- Board Scanner <-> Chess Engine (vertical) -->
  <path d="M240 115 L240 150" fill="none" stroke="#555" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <path d="M280 150 L280 115" fill="none" stroke="#555" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  
  <!-- Computer <-> Chess Engine (horizontal) -->
  <path d="M150 180 L190 180" fill="none" stroke="#555" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <path d="M190 210 L150 210" fill="none" stroke="#555" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  
  <!-- User Interface <-> Chess Engine (horizontal) -->
  <path d="M370 180 L330 180" fill="none" stroke="#555" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <path d="M330 210 L370 210" fill="none" stroke="#555" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  
  <!-- VGA Display <-> Chess Engine (vertical) -->
  <path d="M240 290 L240 240" fill="none" stroke="#555" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <path d="M280 240 L280 290" fill="none" stroke="#555" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- HARDWARE MODULES (Right side) -->
  
  <!-- Physical Chessboard (aligned with Board Scanner) -->
  <rect x="580" y="42" width="160" height="90" rx="5" fill="url(#hardwareGrad)" stroke="#996633" stroke-width="2"/>
  <text x="660" y="72" font-family="system-ui, Arial, sans-serif" font-size="12" font-weight="bold" fill="#663300" text-anchor="middle">Physical Chessboard</text>
  <text x="660" y="90" font-family="system-ui, Arial, sans-serif" font-size="10" fill="#885522" text-anchor="middle">64 Reed Switches</text>
  <text x="660" y="106" font-family="system-ui, Arial, sans-serif" font-size="10" fill="#885522" text-anchor="middle">Magnetic Pieces</text>
  
  <!-- Keypad (aligned with User Interface) -->
  <rect x="580" y="160" width="160" height="70" rx="5" fill="url(#hardwareGrad)" stroke="#996633" stroke-width="2"/>
  <text x="660" y="190" font-family="system-ui, Arial, sans-serif" font-size="12" font-weight="bold" fill="#663300" text-anchor="middle">Keypad</text>
  <text x="660" y="208" font-family="system-ui, Arial, sans-serif" font-size="10" fill="#885522" text-anchor="middle">3-Key Input</text>
  
  <!-- VGA Monitor (aligned with VGA Display) -->
  <rect x="580" y="282" width="160" height="70" rx="5" fill="url(#hardwareGrad)" stroke="#996633" stroke-width="2"/>
  <text x="660" y="312" font-family="system-ui, Arial, sans-serif" font-size="12" font-weight="bold" fill="#663300" text-anchor="middle">VGA Monitor</text>
  <text x="660" y="330" font-family="system-ui, Arial, sans-serif" font-size="10" fill="#885522" text-anchor="middle">Display Output</text>

  <!-- HARDWARE-SOFTWARE CONNECTIONS (thicker, dashed, NO arrowheads) -->
  
  <!-- Physical Chessboard <-> Board Scanner (straight horizontal) -->
  <path d="M580 87 L330 87" fill="none" stroke="#0055aa" stroke-width="2.5" stroke-dasharray="6,3"/>
  <rect x="515" y="72" width="52" height="30" rx="3" fill="#fff" stroke="none"/>
  <text x="540" y="84" font-family="system-ui, Arial, sans-serif" font-size="8" font-weight="bold" fill="#0055aa" text-anchor="middle">GPIO</text>
  <text x="540" y="95" font-family="system-ui, Arial, sans-serif" font-size="8" font-weight="bold" fill="#0055aa" text-anchor="middle">0-15</text>
  
  <!-- Keypad <-> User Interface (straight horizontal) -->
  <path d="M580 195 L490 195" fill="none" stroke="#0055aa" stroke-width="2.5" stroke-dasharray="6,3"/>
  <rect x="515" y="177" width="52" height="36" rx="3" fill="#fff" stroke="none"/>
  <text x="540" y="190" font-family="system-ui, Arial, sans-serif" font-size="8" font-weight="bold" fill="#0055aa" text-anchor="middle">GPIO</text>
  <text x="540" y="201" font-family="system-ui, Arial, sans-serif" font-size="8" font-weight="bold" fill="#0055aa" text-anchor="middle">22, 26-28</text>
  
  <!-- VGA Display <-> VGA Monitor (straight horizontal) -->
  <path d="M580 317 L330 317" fill="none" stroke="#0055aa" stroke-width="2.5" stroke-dasharray="6,3"/>
  <rect x="515" y="302" width="52" height="30" rx="3" fill="#fff" stroke="none"/>
  <text x="540" y="314" font-family="system-ui, Arial, sans-serif" font-size="8" font-weight="bold" fill="#0055aa" text-anchor="middle">GPIO</text>
  <text x="540" y="325" font-family="system-ui, Arial, sans-serif" font-size="8" font-weight="bold" fill="#0055aa" text-anchor="middle">16-21</text>
</svg>